<!DOCTYPE html>
<html lang="en">
<head>
  <title>Test App</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>

  <div class="jumbotron text-center">
    <h1>Test App</h1>
    <p>You can add a test</p>
  </div>

<div class="container" id="addTestDiv">
  <div class="row">
      <div class="col-sm-7">
<form class="form-horizontal">
  <div class="form-group">
    <label class="control-label col-sm-4" for="codeName">Module code name:</label>
    <div class="col-sm-8 input-group">
      <input type="text" class="form-control" id="codeName" placeholder="Enter code name">
      <div class="input-group-addon"><a href="#" data-toggle="tooltip" data-placement="right" title="Hooray!">?</a></div>
    </div>
  </div>
  <div class="form-group">
    <label class="control-label col-sm-4" for="moduleName">Module name:</label>
    <div class="col-sm-8 input-group">
      <input type="text" class="form-control" id="moduleName" placeholder="Enter module name">
      <div class="input-group-addon"><a href="#" data-toggle="tooltip" data-placement="right" title="Hooray!">?</a></div>
    </div>
  </div>
  <div class="form-group">
    <label class="control-label col-sm-4" for="testerInitials">Tester Initials:</label>
    <div class="col-sm-8 input-group">
      <input type="text" class="form-control" id="testerInitials" placeholder="Enter tester initials">
      <div class="input-group-addon"><a href="#" data-toggle="tooltip" data-placement="right" title="Hooray!">?</a></div>
    </div>
  </div>
  <div class="form-group has-feedback">
    <label class="control-label col-sm-4" for="productionMacroCall">Production Macro call:</label>
    <div class="col-sm-8 input-group">
      <div class="input-group-addon">%</div>
      <textarea class="form-control" rows="3" id="productionMacroCall" placeholder="Enter production macro call"></textarea>
      <div class="input-group-addon">;</div>
      <div class="input-group-addon"><a href="#" data-toggle="tooltip" data-placement="right" title="Hooray!">?</a></div>
    </div>
  </div>
  <div class="form-group">
    <label class="control-label col-sm-4" for="testMacroCall">Test Macro call:</label>
    <div class="col-sm-8 input-group">
      <div class="input-group-addon">%</div>
      <textarea class="form-control" rows="3" id="testMacroCall" placeholder="Enter test macro call"></textarea>
        <div class="input-group-addon">;</div>
        <div class="input-group-addon"><a href="#" data-toggle="tooltip" data-placement="right" title="Hoorkajsfgkasudgfkuasdf iuafrkujghasleufh sakurfaur iasutkuray! Hoorkajsfgkasudgfkuasdf iuafrkujghasleufh sakurfaur iasutkuray! Hoorkajsfgkasudgfkuasdf iuafrkujghasleufh sakurfaur iasutkuray!">?</a></div>
    </div>
  </div>
  <div class="form-group">
    <label class="control-label col-sm-4" for="noOfDataSets">No of Data sets:</label>
    <div class="col-sm-8 input-group">
      <select class="form-control" id="noOfDataSets">
       <option>0</option>
       <option>1</option>
       <option>2</option>
       <option>3</option>
       <option>4</option>
       <option>5</option>
       <option>6</option>
       <option>7</option>
       <option>8</option>
       <option>9</option>
       <option>10</option>
     </select>
      <div class="input-group-addon"><a href="#" data-toggle="tooltip" data-placement="right" title="Hooray!">?</a></div>
    </div>
  </div>
  <div class="form-group" id="dataSetsDiv">
  </div>
  <div class="form-group">
    <div class="col-sm-offset-4 col-sm-10">
      <button type="button" class="btn btn-primary" >Submit</button>
    </div>
  </div>
</form>
</div>
<div class="col-sm-1">
</div>
<div class="col-sm-4">
  <p>123456789012345678901234567890123456789012345</p>
</div>
</div>
</div>
<script>
var noOfDataSets = 0;

$(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip();
    $("#noOfDataSets").change(function(){
      noOfDataSets = document.getElementById("noOfDataSets").value;
        showDataSetDiv();
    });
});

function showDataSetDiv(){
  $('#dataSetsDiv').replaceWith('<div class="form-group" id="dataSetsDiv"></div>');
  for(i=1;i<=noOfDataSets;i++){
    eachDataSetDiv(i);
  }
}

function eachDataSetDiv(i){
  var dataSetHeading = $('<h4>Date set '+i+'</h4>');
  dataSetHeading.appendTo("#dataSetsDiv");
  var dataSetName = $('<div class="form-group">'+
    '<label class="control-label col-sm-4" for="dataSetName'+i+'">Data Set name:</label>'+
    '<div class="col-sm-8 input-group">'+
      '<input type="text" class="form-control" id="dataSetName'+i+'" placeholder="Enter data set name">'+
      '<div class="input-group-addon"><a href="#" data-toggle="tooltip" data-placement="right" title="Hooray!">?</a></div>'+
    '</div></div>');
  dataSetName.appendTo("#dataSetsDiv");
  var listOfVariables = $('<div class="form-group">'+
    '<label class="control-label col-sm-4" for="listOfVariables'+i+'">List of variables:</label>'+
    '<div class="col-sm-8 input-group">'+
      '<textarea class="form-control" rows="5" id="listOfVariables'+i+'" placeholder="Enter list of variables"></textarea>'+
      '<div class="input-group-addon"><a href="#" data-toggle="tooltip" data-placement="right" title="Hooray!">?</a></div>'+
    '</div></div>');
  listOfVariables.appendTo("#dataSetsDiv");
  var comparedWithAll = $('<div class="form-group">'+
    '<label class="control-label col-sm-4" for="comparedWithAll'+i+'">Variables compared for all:</label>'+
    '<div class="col-sm-8 input-group">'+
      '<label class="radio-inline"><input type="radio" name="comparedWithAll'+i+'" value="compareYes" checked>Yes</label>'+
      '<label class="radio-inline"><input type="radio" name="comparedWithAll'+i+'" value="compareNo">No</label>'+
      '<div class="input-group-addon"><a href="#" data-toggle="tooltip" data-placement="right" title="Hooray!">?</a></div>'+
    '</div></div>');
  comparedWithAll.appendTo("#dataSetsDiv");
  var comparedAllNo = $('<div class="form-group" id="ifComparedAllNoDiv'+i+'" style="display:none">'+
    '<label class="control-label col-sm-4" for="variablesForNo'+i+'">Variables to be compared:</label>'+
    '<div class="col-sm-8 input-group">'+
      '<textarea class="form-control" rows="5" id="variablesForNo'+i+'" placeholder="Enter variables"></textarea>'+
      '<div class="input-group-addon"><a href="#" data-toggle="tooltip" data-placement="right" title="Hooray!">?</a></div>'+
    '</div></div>');
    comparedAllNo.appendTo("#dataSetsDiv");
    var filters = $('<div class="form-group">'+
      '<label class="control-label col-sm-4" for="filters'+i+'">Filters to be applied:</label>'+
      '<div class="col-sm-8 input-group">'+
        '<label class="radio-inline"><input type="radio" name="filters'+i+'" value="filterYes">Yes</label>'+
        '<label class="radio-inline"><input type="radio" name="filters'+i+'" value="filterNo" checked>No</label>'+
        '<div class="input-group-addon"><a href="#" data-toggle="tooltip" data-placement="right" title="Hooray!">?</a></div>'+
      '</div></div>');
    filters.appendTo("#dataSetsDiv");
    var filtersYes = $('<div class="form-group" id="ifFilterYesDiv'+i+'" style="display:none">'+
      '<label class="control-label col-sm-4" for="filters'+i+'">Filters to be applied:</label>'+
      '<div class="col-sm-8 input-group">'+
      '<div class="input-group-addon">where</div>'+
        '<input type="text" class="form-control" id="filters'+i+'" placeholder="Enter filters to be applied">'+
        '<div class="input-group-addon">;</div>'+
        '<div class="input-group-addon"><a href="#" data-toggle="tooltip" data-placement="right" title="Hooray!">?</a></div>'+
      '</div></div>');
      filtersYes.appendTo("#dataSetsDiv");
      $('input:radio').change(function() {
        var k = this.name.slice(-1);
        if ($(this).val() == "compareNo") {
          $("#ifComparedAllNoDiv"+k+"").slideDown();
        } else if($(this).val() == "compareYes") {
          $("#ifComparedAllNoDiv"+k+"").slideUp();
        } else if ($(this).val() == "filterYes") {
          $("#ifFilterYesDiv"+k+"").slideDown();
        } else if($(this).val() == "filterNo") {
          $("#ifFilterYesDiv"+k+"").slideUp();
        }
      });
      $('[data-toggle="tooltip"]').tooltip();
}
</script>
</body>
</html>
